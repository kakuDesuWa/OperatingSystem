# 王道论坛 - 操作系统

- [计算机系统概述](#计算机系统概述)


### 计算机系统概述

**操作系统的基本概念**

- 操作系统的概念

计算机系统自下而上可大致分为4部分: 硬件, 操作系统, 应用程序和用户. 操作系统管理各种计算机硬件, 为应用程序提供基础, 并充当计算机硬件与用户之间的中介.

硬件如中央处理器, 内存, 输入/输出设备等, 提供基本的计算资源. 应用程序如字处理程序, 电子制表软件, 编译器, 网络浏览器等, 规定按何种方式使用这些资源来解决用户的计算问题. 操作系统控制和协调各用户的应用对硬件的分配与使用.

综上, 操作系统(Operating System, OS)是指控制和管理整个计算机系统的硬件与软件资源, 合理的组织, 高度计算机的工作与资源的分配, 进而为用户和其他软件提供方便接口与环境的程序集合.

- 操作系统的特征

操作系统的基本特征包括并发, 共享, 虚拟和异步. 

1. 并发(Concurrence)

并发是指两个或多个事件在同一时间间隔内发生. 操作系统的并发性是指计算机系统中同时存在多个运行的程序, 因此它具有处理和高度多个程序同时执行的能力. 在操作系统中, 引入进程的目的是使程序能并发执行.

注意同一时间间隔(并发)和同一时刻(并行)的区别. 在多道程序环境下, 一段时间内, 宏观上有多道程序在同时执行, 而在每个时刻, 单处理机环境下实际仅能有一道程序执行, 因此微观上这些程序仍是分时交替执行. 操作系统的并发性是通过分时得以实现的.

2. 共享(Sharing) 

资源共享, 是指系统中的资源可供内存中多个并发执行的进程共同使用. 共享可分为以下两种方式:

a. 互斥共享方式

系统中的资源如, 打印机, 磁带机, 虽然可供多个进程使用, 但一段时间内只允许一个进程访问资源(称为临界资源或独占资源)

b. 同时访问方式

系统中还有另一类资源, 允许在同一段时间内由多个进程"同时"访问. 这里所说的"同时"通常是宏观上的, 而在微观上, 这些进程可能是交替地对资源进行访问即"分离共享"的. 可供多个进程"同时"访问的典型资源是磁盘设备, 一些用重入码编写的文件也可被"同时"共享, 即允许若干个用户同时访问该文件.

并发与共享是操作系统两个最基本的特征, 两都之间互为存在的条件: 1. 资源共享是以程序的并发为条件的, 若系统不允许程序并发执行, 则自然不存在资源共享问题; 2. 若系统不能对资源共享实施有效的管理, 则必将影响到程序的并发执行, 甚至根本无法并发执行.

3. 虚拟(Virtual)

虚拟是指把一个物理上的实体变为若干逻辑上的对应物. 操作系统的虚拟技术可归纳为: 时分复用技术, 如处理器的分时共享; 空分复用技术, 如虚拟存储器;

4. 异步(Asynchronism)

多道程序环境允许多个程序并发执行, 但由于资源有限, 进程的执行并不是一贯到底的, 而是走走停停的, 它以不可预知的速度向前推进, 这就是进程的异步性.

异步性使得操作系统运行在一种随机的环境下, 可能导致进程产生与时间有关的错误(就像对全局变量的访问顺序不当会导致程序出错一样). 

- 操作系统的目标和功能

目标: 给多道程序提供良好的运行环境.

功能: 处理机管理(进程管理), 存储器管理, 设备管理, 文件管理. 为了方便用户使用操作系统, 还必须向用户提供接口作.

1. 处理机管理

可归结为对进程的管理, 并发是指在计算机同时运行多个进程, 因此进程何时创建, 何时撤销, 如何管理, 如何避免冲突, 合理共享就是进程管理的最主要的任务. 进程管理的主要功能包括进程控制, 进程同步, 进程通信, 死锁处理, 处理机高度等

2. 存储器管理

为给多道程序的运行提供良好的环境, 方便用户使用及提高内存的利用率. 主要包括内存分配, 地址映射, 内存保护与共享和内存扩充等功能.

3. 文件管理

操作系统中负责文件管理的部分称为文件系统. 文件管理包括文件存储空间的管理, 目录管理及文件读写管理和保护.

4. 设备管理

主要任务是完成用户的I/O请求, 方便用户使用各种设备, 并提高设备的利用率, 主要包括缓冲管理, 设备分配, 设备处理和虚拟设备等功能.

为方便用户使用计算机, 操作系统还提供了用户接口. 主要分2类:

1. 命令接口

又分联机命令接口, 交互式命令接口; 脱机命令接口, 批处理命令接口;

2. 程序接口

程序接口由一组系统调用命令组成. 如图形用户界面(GUI).